{"version":3,"sources":["webpack:///./src/views/database/BannerList.vue?700a","webpack:///./src/views/database/BannerList.vue?05f3","webpack:///src/views/database/BannerList.vue","webpack:///./src/api/baseData/banner.js","webpack:///./src/views/database/BannerList.vue?c8cf","webpack:///./src/views/database/BannerList.vue"],"names":["module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourceRoot","content","locals","BannerList","data","_this","this","uploadUrl","GLOBAL","prefix","query","title","addEditDialogVisible","dialogImgVisible","dialogImageUrl","isEdit","page","pageNumber","pageSize","total","cover","infoForm","rules","required","validator","rule","value","callback","Error","undefined","trigger","tableData","created","mounted","getList","methods","handleSizeChange","val","handleCoverCardPreview","handleCurrentChange","handleSelectChange","listenCoverUploadSuccess","imgUrl","handleSearch","handleAdd","assign_default","handleEdit","index","row","location","schoolIdList","handleSubmitSave","_this2","$refs","validate","valid","$confirm","then","params","para","fetch","url","method","res","$message","success","msg","resetFields","handleSubmitUpdate","_this3","handleRemove","_this4","_","id","remove","catch","error","handleCoverSuccess","code","beforeAvatarUpload","isJPG","type","isLt2M","size","_this5","list","totalRow","console","log","database_BannerList","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","inline","model","label-position","label-width","on","click","_v","stripe","border","width","label","prop","scopedSlots","_u","key","fn","scope","staticStyle","height","cursor","src","$event","$index","current-page","page-sizes","page-size","layout","size-change","current-change","visible","update:visible","ref","action","show-file-list","on-success","before-upload","slot","alt","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static_admin/js/10.7431e844b373cd348062.js","sourcesContent":["exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"BannerList.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-44f0ec85\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./src/views/database/BannerList.vue\n// module id = /d0D\n// module chunks = 10","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-44f0ec85\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./BannerList.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"2bcd38b4\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/_vue-style-loader@3.1.2@vue-style-loader!./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-44f0ec85\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./src/views/database/BannerList.vue\n// module id = 1KK0\n// module chunks = 10","<template>\r\n  <div>\r\n    <!-- 搜索 -->\r\n    <el-form inline :model=\"query\" label-position=\"right\" label-width=\"70px\" class=\"query-form\">\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"handleAdd\">添加Banner</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <!-- 数据表格 -->\r\n    <el-table :data=\"tableData\" class=\"table\" stripe border width=\"600px\">\r\n      <el-table-column type=\"index\" label=\"序号\" width=\"70\"></el-table-column>\r\n      <el-table-column prop=\"cover\" label=\"图片\" width=\"70\">\r\n        <template slot-scope=\"scope\">\r\n          <img\r\n            style=\"width:30px;height:30px;cursor: pointer;\"\r\n            :src=\"scope.row.cover\"\r\n            @click=\"handleCoverCardPreview(scope.row.cover)\"\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"createTime\" label=\"上传时间\" width=\"170\"></el-table-column>\r\n      <el-table-column label=\"操作\" width=\"230\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n          <el-button size=\"mini\" type=\"danger\" @click=\"handleRemove(scope.$index, scope.row)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 分页组件 -->\r\n    <el-pagination\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page=\"page.pageNumber\"\r\n      :page-sizes=\"[10, 20, 30, 40]\"\r\n      :page-size=\"page.pageSize\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"page.total\"\r\n    ></el-pagination>\r\n\r\n    <el-dialog title=\"新增/编辑Banner\" :visible.sync=\"addEditDialogVisible\" width=\"600px\">\r\n      <!-- 学校详情 -->\r\n      <el-form ref=\"infoForm\" :model=\"infoForm\" :rules=\"rules\" label-width=\"80px\">\r\n        <el-form-item prop=\"cover\" label=\"图片：\">\r\n          <el-upload\r\n            class=\"avatar-uploader\"\r\n            :action=\"uploadUrl\"\r\n            :show-file-list=\"false\"\r\n            :on-success=\"handleCoverSuccess\"\r\n            :before-upload=\"beforeAvatarUpload\"\r\n          >\r\n            <img v-if=\"cover\" :src=\"cover\" class=\"avatar\">\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n          </el-upload>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addEditDialogVisible = false\">关闭</el-button>\r\n        <el-button type=\"primary\" v-if=\"isEdit\" @click=\"handleSubmitUpdate\">提 交</el-button>\r\n        <el-button type=\"primary\" v-else @click=\"handleSubmitSave\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <el-dialog :visible.sync=\"dialogImgVisible\" size=\"tiny\">\r\n      <img width=\"100%\" :src=\"dialogImageUrl\" alt>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n// Progress 进度条\r\nimport { list, remove, save, update } from \"@/api/baseData/banner\";\r\n\r\nexport default {\r\n  data() {\r\n    var notBlank = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请上传banner图片\"));\r\n      } else if (value === undefined) {\r\n        if (this.infoForm.cover === \"\" || this.infoForm.cover === undefined) {\r\n          callback(new Error(\"请上传banner图片\"));\r\n        } else {\r\n          callback();\r\n        }\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      uploadUrl: this.GLOBAL.prefix + \"/admin/upload/uploadImg\",\r\n      query: {\r\n        title: \"\"\r\n      },\r\n      addEditDialogVisible: false,\r\n      dialogImgVisible: false,\r\n      dialogImageUrl: \"\",\r\n      isEdit: false,\r\n      page: {\r\n        pageNumber: 1,\r\n        pageSize: 10,\r\n        total: 0\r\n      },\r\n      cover: \"\",\r\n      infoForm: {},\r\n      rules: {\r\n        cover: [{ required: true, validator: notBlank, trigger: \"change\" }]\r\n      },\r\n      tableData: []\r\n    };\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    this.getList();\r\n  },\r\n  methods: {\r\n    handleSizeChange: function(val) {\r\n      this.page.pageSize = val;\r\n      this.getList();\r\n    },\r\n    handleCoverCardPreview: function(val) {\r\n      this.dialogImageUrl = val;\r\n      this.dialogImgVisible = true;\r\n    },\r\n    handleCurrentChange: function(val) {\r\n      this.pageNumber = val;\r\n      this.getList();\r\n    },\r\n    handleSelectChange: function(val) {\r\n      //console.log(this.infoForm);\r\n    },\r\n    listenCoverUploadSuccess: function(imgUrl) {\r\n      this.infoForm.cover = imgUrl;\r\n    },\r\n    handleSearch: function() {\r\n      this.getList();\r\n    },\r\n    handleAdd: function() {\r\n      this.isEdit = false;\r\n      this.addEditDialogVisible = true;\r\n      this.infoForm = Object.assign({}, null);\r\n    },\r\n    handleEdit: function(index, row) {\r\n      this.isEdit = true;\r\n      this.infoForm = Object.assign({}, row);\r\n      if (this.infoForm.location) {\r\n        this.infoForm.location = this.infoForm.location + \"\";\r\n      }\r\n      this.schoolIdList = row.schoolIdList;\r\n      this.addEditDialogVisible = true;\r\n    },\r\n    handleSubmitSave: function() {\r\n      this.$refs.infoForm.validate(valid => {\r\n        if (valid) {\r\n          this.$confirm(\"确认提交吗？\", \"提示\", {}).then(() => {\r\n            let para = Object.assign({}, this.infoForm);\r\n            save(para).then(res => {\r\n              this.$message.success(res.data.msg);\r\n              this.$refs[\"infoForm\"].resetFields();\r\n              this.addEditDialogVisible = false;\r\n              this.getList();\r\n            });\r\n          });\r\n        }\r\n      });\r\n    },\r\n    handleSubmitUpdate: function() {\r\n      this.$refs.infoForm.validate(valid => {\r\n        if (valid) {\r\n          this.$confirm(\"确认提交吗？\", \"提示\", {}).then(() => {\r\n            let para = Object.assign({}, this.infoForm);\r\n            update(para).then(res => {\r\n              this.$message.success(res.data.msg);\r\n              this.$refs[\"infoForm\"].resetFields();\r\n              this.addEditDialogVisible = false;\r\n              this.getList();\r\n            });\r\n          });\r\n        }\r\n      });\r\n    },\r\n    handleRemove: function(index, row) {\r\n      this.$confirm(\"确定删除吗？\")\r\n        .then(_ => {\r\n          let id = row.id;\r\n          remove(id)\r\n            .then(res => {\r\n              this.$message.success(res.data.msg);\r\n              this.getList();\r\n            })\r\n            .catch(error => {\r\n              this.$message.error(error);\r\n            });\r\n        })\r\n        .catch(_ => {});\r\n    },\r\n    handleCoverSuccess: function(res, file) {\r\n      if (res.code !== \"200\") {\r\n        this.$message.error(res.msg);\r\n      } else {\r\n        this.cover = res.file.url;\r\n        this.infoForm.cover = res.file.url;\r\n      }\r\n    },\r\n    //上传图片前\r\n    beforeAvatarUpload: function(file) {\r\n      const isJPG = file.type === \"image/jpeg\" || file.type === \"image/png\";\r\n      const isLt2M = file.size / 1024 / 1024 < 20;\r\n      if (!isJPG) {\r\n        this.$message.error(\"上传图片片只能是 JPG|PNG|IMAGE|JPEG 格式!\");\r\n      }\r\n      if (!isLt2M) {\r\n        this.$message.error(\"上传图片大小不能超过 20MB!\");\r\n      }\r\n      if (isJPG && isLt2M) {\r\n      }\r\n      return isJPG && isLt2M;\r\n    },\r\n    getList: function() {\r\n      let params = {\r\n        //title: this.query.title,\r\n        pageNumber: this.page.pageNumber,\r\n        pageSize: this.page.pageSize\r\n      };\r\n      list(params)\r\n        .then(res => {\r\n          this.tableData = res.data.page.list;\r\n          this.page.pageNumber = res.data.page.pageNumber;\r\n          this.page.pageSize = res.data.page.pageSize;\r\n          this.page.total = res.data.page.totalRow;\r\n        })\r\n        .catch(error => {\r\n          this.$message.error(error);\r\n          console.log(error);\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/database/BannerList.vue","import fetch from '@/axios'\r\n\r\nexport function list(params) {\r\n    return fetch({\r\n        url: '/admin/database/banner/list',\r\n        method: 'post',\r\n        data: params\r\n    })\r\n}\r\nexport function remove(id) {\r\n    return fetch({\r\n        url: '/admin/database/banner/del/' + id,\r\n        method: 'get'\r\n    })\r\n}\r\nexport function save(params) {\r\n    return fetch({\r\n        url: '/admin/database/banner/add',\r\n        method: 'post',\r\n        data: params\r\n    })\r\n}\r\nexport function update(params) {\r\n    return fetch({\r\n        url: '/admin/database/banner/update',\r\n        method: 'post',\r\n        data: params\r\n    })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/baseData/banner.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{staticClass:\"query-form\",attrs:{\"inline\":\"\",\"model\":_vm.query,\"label-position\":\"right\",\"label-width\":\"70px\"}},[_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"添加Banner\")])],1)],1),_vm._v(\" \"),_c('el-table',{staticClass:\"table\",attrs:{\"data\":_vm.tableData,\"stripe\":\"\",\"border\":\"\",\"width\":\"600px\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"70\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"cover\",\"label\":\"图片\",\"width\":\"70\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticStyle:{\"width\":\"30px\",\"height\":\"30px\",\"cursor\":\"pointer\"},attrs:{\"src\":scope.row.cover},on:{\"click\":function($event){return _vm.handleCoverCardPreview(scope.row.cover)}}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"上传时间\",\"width\":\"170\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"230\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleRemove(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"current-page\":_vm.page.pageNumber,\"page-sizes\":[10, 20, 30, 40],\"page-size\":_vm.page.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.page.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"新增/编辑Banner\",\"visible\":_vm.addEditDialogVisible,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.addEditDialogVisible=$event}}},[_c('el-form',{ref:\"infoForm\",attrs:{\"model\":_vm.infoForm,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"prop\":\"cover\",\"label\":\"图片：\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.uploadUrl,\"show-file-list\":false,\"on-success\":_vm.handleCoverSuccess,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.cover)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.cover}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addEditDialogVisible = false}}},[_vm._v(\"关闭\")]),_vm._v(\" \"),(_vm.isEdit)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmitUpdate}},[_vm._v(\"提 交\")]):_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmitSave}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.dialogImgVisible,\"size\":\"tiny\"},on:{\"update:visible\":function($event){_vm.dialogImgVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-44f0ec85\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/database/BannerList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-44f0ec85\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./BannerList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./BannerList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./BannerList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-44f0ec85\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./BannerList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/database/BannerList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}